---
title: "Dipteran dsRBP phylogenetics"
output:
  pdf_document: default
  html_notebook: default
  html_document: default
  word_document: default
---
# Setting envinroment
```{r}
#system('git config --global user.name "luciorq"')
#system('git config --global user.email "luciorqueiroz@gmail.com"')
#system('git remote add origin https://github.com/luciorq/dsrbp_container_image.git')
#system('git remote add origin https://github.com/luciorq/dsrbp_container_image.git')
#system('git config remote.origin.url https://github.com/luciorq/dsrbp_container_image.git')
#system('git pull -u origin master')
#system('git push -u origin master')
```
## Testing libraries

## Initial tree
![Flavia's old tree](images/dsRBP_dipterans_v15.PDF)

# Analysis
## Loading libraries
```{r}
source("src/functions.R")
```
## Initializing variables
List of Files used for the analysis
```{r}
tblastn_db = "VB_dipteran_transcripts"
sequences_file = "dsRBPv3_LRQ"
```
## Transcripts used for tblasn: 
The following library files were used in the analysis 
```{r}
for(line in (a = readLines(paste0("raw/",tblastn_db,"_list.txt")))){
  print(unlist(strsplit(line, "/"))[length(unlist(strsplit(line, "/")))])
  }
```
### VectorBase sequences for tBlastn
```{r}
DownloadLibraries(tblastn_db)
makeBlastDB(tblastn_db)
```
## tBlastn against VectorBase transcripts
```{r}
MLtoSLfasta(paste0("raw/",sequences_file))
tBlastn(paste0("data/",sequences_file,".fasta"), tblastn_db)
```
## Batch InterProScan for `r sequences_file`
```{r}
RunIprScan((paste0("data/",sequences_file,".fasta")), 
           (paste0("data/iprscan_results/",sequences_file)))
```

