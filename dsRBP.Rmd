---
title: "Dipteran dsRBP phylogenetics"
output:
  pdf_document: default
  html_notebook: default
  html_document: default
  word_document: default
---
# Setting envinroment
```{r}
#system('git config --global user.name "luciorq"')
#system('git config --global user.email "luciorqueiroz@gmail.com"')
#system('git remote add origin https://github.com/luciorq/dsrbp_container_image.git')
#system('git remote add origin https://github.com/luciorq/dsrbp_container_image.git')
#system('git config remote.origin.url https://github.com/luciorq/dsrbp_container_image.git')
#system('git pull -u origin master')
#system('git push -u origin master')
```
## Testing libraries

## Initial tree
![Flavia's old tree](images/dsRBP_dipterans_v15.PDF)

# Analysis
## Loading libraries
```{r}
source("src/functions.R")
```
## Initializing variables
```{r}
tblastn_db = "VectorBase_transcript"
sequence_file = "dsRBPv3_LRQ"
```
## VectorBase transcripts used for tblasn: 
```{r}
for(line in (a = readLines("raw/VectorBase_list.txt"))){
  print(unlist(strsplit(line, "/"))[length(unlist(strsplit(line, "/")))])
  }
```
### VectorBase sequences for Blast
```{r}
makeVectorBaseDB()
```
## Batch InterProScan for `r sequence_file`
```{r}
sequences <- paste("raw/",sequence_file,sep="")
## system("rm -rf data/*")
MLtoSLfasta(sequences)
RunIprScan((paste("data/",sequence_file,".fasta", sep="")), 
           (paste("data/iprscan_results/",sequence_file, sep = "")))
```
## tBlastn against VectorBase transcripts
```{r}
#tBlastn()
```

